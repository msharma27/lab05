<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
<style>
.divider{
    width:5px;
    height:auto;
    display:inline-block;
}
</style>


<h:head>

	<title>User's Homepage</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous"></link>

</h:head>

<h:body class="container">
        
<c:choose>
   <c:when test="#{sessionScope.sessionFname != null}">
   
   <h:form class="form-signin">
   <br/>
      <div style="float: right;">
      <h:commandButton id="getlist" for="getlist" type="managerlist" value="View Manager List" action="#{managerListController.getList}" class="btn btn-primary"/>
      <div class="divider"/>
      <h:commandButton type="profile" value="profile" action="#{profileController.getProfile}" id="profile" class="btn btn-primary"/>
      <div class="divider"/>
	  <h:commandButton type="logout" value="Logout" action="#{loginController.logout}" id="logout" class="btn btn-primary"/>
	  
	  </div>
	
	  <div align="left">
	      
		  <h:outputText value="#{sessionScope.sessionFname}"></h:outputText> 
<!-- 	      <h:outputText value="#{sessionScope.sessionUname}"></h:outputText> -->

	  </div>
	  
   </h:form>
    
    <h:form>
    <table border="1" >
    <th> First name </th> 
    <th>  Last name </th>
    <th> Email </th>
    <th> Contact </th>
    <br/>
    <ui:repeat var="item" value="#{sessionScope.userpojo}" varStatus="myVarStatus">
    
     <tr>
	 	<td>#{item.fname}</td>
		<td>#{item.lname}</td>
		<td>#{item.email}</td>
		<td>#{item.phone}</td>
<!-- 		<td><a href="managerListController.java?fname=#{managerListController.fname}" />Select</td>	 -->
		<td><h:commandButton value="Select" action="#{managerListController.select(item.uname)}" /></td>

	</tr>
	</ui:repeat>
	</table>
	
	</h:form>

   </c:when>
   <c:otherwise>
   <h:form>
   			<h3>You are not logged in.</h3><br/>
   			
   			<h:commandButton id="logout" class="btn btn-primary" value="login" action="login"/><br/>
   		
   		
   </h:form>
   </c:otherwise>
   
 </c:choose> 
   <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script> 
   
</h:body>

</html>
